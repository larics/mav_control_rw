<launch>

	<arg name="namespace" default="erl_uav"/>
	<arg name="mpc_params_config" default="linear_mpc_ardupilot_erl.yaml" />
	<arg name="kalman_params_config"  default="disturbance_observer_ardupilot_erl.yaml"  
	  
	<group ns="$(arg namespace)">
		
		<!-- MPC node -->
		<node 
			name="mav_linear_mpc" 
			pkg="mav_linear_mpc" 
			type="mav_linear_mpc_node"  
			respawn="true" 
			clear_params="true" 
			output="screen">
			
			<remap from="odometry" to="msf_core/odometry_filtered" />
			<remap from="rc" to="ardupilot/joy" />
			<rosparam file="$(find mav_linear_mpc)/resources/$(arg config_file)"/>
			<rosparam file="$(find mav_disturbance_observer)/resources/$(arg kalman_params_config)"/>
			<param name="use_rc_teleop" value="true" />
			<param name="verbose" value="true" />
		</node>
	
	</group>
	
</launch>
